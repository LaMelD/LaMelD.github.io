<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>[Programmers][Kakao Blind 2020] 가사 검색 - LaMelD&#39;s dev Story</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="https://lameld.github.io/favicon.png">

  
  
  <link rel="stylesheet" href="/css/style.min.6aa5eecd4ca7c47fb2ca9b0775a7bd787e3e64a2eadf0fef8c9f924498f49127.css">
  

  

</head>

<body class='page page-default-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-kakao">
      <a href="/kakao/">
        <span>Kakao</span>
      </a>
    </li>
    
    <li class="menu-item-swea">
      <a href="/swea/">
        <span>Swea</span>
      </a>
    </li>
    
    <li class="menu-item-study">
      <a href="/study/">
        <span>Study</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="https://lameld.github.io"><img alt="Logo" src="/images/logo.svg" /></a>
    </div>
    <div class="logo-mobile">
      <a href="https://lameld.github.io"><img alt="Logo" src="/images/logo-mobile.svg" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-kakao">
      <a href="/kakao/">
        <span>Kakao</span>
      </a>
    </li>
    
    <li class="menu-item-swea">
      <a href="/swea/">
        <span>Swea</span>
      </a>
    </li>
    
    <li class="menu-item-study">
      <a href="/study/">
        <span>Study</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>


    
    
    
    
    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <h4>Kakao</h4>
  <ul>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2018_cache/">[2018] 캐시</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2018_dart/">[2018] 다트 게임</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2018_news/">[2018] 뉴스 클러스터링</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2018_friendsblock/">[2018] 프렌즈 4 블록</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2018_secret/">[2018] 비밀지도</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2018_shuttle/">[2018] 셔틀버스</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2018_traffic/">[2018] 추석 트래픽</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2019_block/">[2019] 블록 게임</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2019_fail/">[2019] 실패율</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2019_key/">[2019] 후보키</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2019_matching/">[2019] 매칭 점수</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2019_muzi/">[2019] 무지의 먹방 라이브</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2019_open/">[2019] 오픈채팅방</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2019_way/">[2019] 길 찾기 게임</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/update/kko_blind_2020_block/">[Programmers][Kakao Blind 2020] 블록 이동하기</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/update/kko_blind_2020_circular/">[Programmers][Kakao Blind 2020] 외벽 점검</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/update/kko_blind_2020_pole/">[Programmers][Kakao Blind 2020] 기둥과 보 설치</a>
    </li>
    
    <li class="active ">
      <a href="https://lameld.github.io/kakao/update/kko_blind_2020_lyrics/">[Programmers][Kakao Blind 2020] 가사 검색</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/update/kko_blind_2020_lock/">[Programmers][Kakao Blind 2020] 자물쇠와 열쇠</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/update/kko_blind_2020_convert/">[Programmers][Kakao Blind 2020] 괄호 변환</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/update/kko_blind_2020_zip/">[Programmers][Kakao Blind 2020] 문자열 압축</a>
    </li>
    
  </ul>
</div>

          </div>
        </div>
        <div class="col-12 col-md-9">
          
<h1 class="title">[Programmers][Kakao Blind 2020] 가사 검색</h1>
<div class="content ">
  <!-- raw HTML omitted -->
<p>문제 출처 : <!-- raw HTML omitted --><a href="https://programmers.co.kr/learn/courses/30/lessons/60060">https://programmers.co.kr/learn/courses/30/lessons/60060</a><!-- raw HTML omitted --></p>
<ul>
<li>
<p>문제 설명</p>
<ul>
<li>노래 가사에 사용된 단어들 중에 특정 키워드가 몇 개 포함되어 있는지 알 수 있는 프로그램</li>
</ul>
<blockquote>
<p>예제<!-- raw HTML omitted -->
&ldquo;fro??&ldquo;는 &ldquo;frodo&rdquo;, &ldquo;front&rdquo;, &ldquo;frost&quot;에 매치되므로 3입니다.<!-- raw HTML omitted -->
&ldquo;????o&quot;는 &ldquo;frodo&rdquo;, &ldquo;kakao&quot;에 매치되므로 2입니다.<!-- raw HTML omitted -->
&ldquo;fr???&ldquo;는 &ldquo;frodo&rdquo;, &ldquo;front&rdquo;, &ldquo;frost&rdquo;, &ldquo;frame&quot;에 매치되므로 4입니다.<!-- raw HTML omitted -->
&ldquo;fro???&ldquo;는 &ldquo;frozen&quot;에 매치되므로 1입니다.<!-- raw HTML omitted -->
&ldquo;pro?&ldquo;는 매치되는 가사 단어가 없으므로 0 입니다.</p>
</blockquote>
</li>
<li>
<p>문제 풀이</p>
<ul>
<li>풀이 방법은 2가지가 있다.
<ol>
<li>완전탐색</li>
<li>트라이(Trie) 자료구조를 사용</li>
</ol>
</li>
<li>완전탐색으로 문제를 해결할 경우 문자열을 비교하는 단계에서 효율이 떨어진다. 이러한 문제를 트라이 자료구조를 사용하였을 때 해결할 수 있다.</li>
<li>트라이 자료구조를 모른다면 효율성을 통과하기가 매우 어려웠다. 추후에 더 자세하게 추가하겠다.</li>
</ul>
</li>
</ul>
<blockquote>
<p>Code</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;string&gt;

using namespace std;

//소문자로만 이루어져 있기 때문에 알파벳 개수만큼을 max로 한다.
const int Max_Trie_Children = 26;
//문자열의 길이가 최대 10000이기에 최대를 10001로 한다.
const int Max_Word_Size = 10001;

//문자를 인덱스로 변경
int alphatoindex(const char alpha)
{
	return alpha - &#39;a&#39;;
}

//와일드 카드 : &#39;?&#39; 판별
bool IsWildCard(const char alpha)
{
	return alpha == &#39;?&#39;;
}

//노드가 되는 myTrie 객체의 구성
class myTrie
{
private :
	vector&lt;myTrie*&gt; child;
	//몇 개의 문자열이 겹치는지 알려주기 위한 변수
	int matchCnt;
	//문자의 끝을 알려주기 위한 변수
	bool Terminal;

private :
	void insert(const string&amp;, const int);
	int find(const string&amp;, const int);

public :
	myTrie();

	void insert(const string&amp;);
	int find(const string&amp;);
};
myTrie::myTrie()
{
	this-&gt;child = vector&lt;myTrie*&gt;(Max_Trie_Children);
	this-&gt;matchCnt = 0;
	this-&gt;Terminal = false;
}
void myTrie::insert(const string&amp; word)
{
	this-&gt;insert(word, 0);
	return;
}
void myTrie::insert(const string&amp; word, int idx)
{
	this-&gt;matchCnt++;

	if (idx == word.length())
	{
		this-&gt;Terminal = true;
		return;
	}

	char alpha = word[idx];
	int childIndex = alphatoindex(alpha);
	if (this-&gt;child[childIndex] == NULL)
	{
		this-&gt;child[childIndex] = new myTrie();
	}

	this-&gt;child[childIndex]-&gt;insert(word, idx + 1);

	return;
}
int myTrie::find(const string&amp; target)
{
	return this-&gt;find(target, 0);
}
int myTrie::find(const string&amp; target, int idx)
{
	if (idx == target.length())
	{
		if (this-&gt;Terminal)
		{
			return 1;
		}
		else
		{
			return 0;
		}
	}

	char alpha = target[idx];
	if (IsWildCard(alpha))
	{
		return this-&gt;matchCnt;
	}

	int childIndex = alphatoindex(alpha);
	if (this-&gt;child[childIndex] == NULL)
	{
		return 0;
	}

	return this-&gt;child[childIndex]-&gt;find(target, idx + 1);
}

//전체적인 구조를 담는 Lyrics 객체의 구조
class LyricS
{
private :
	vector&lt;myTrie&gt; trie;
	vector&lt;myTrie&gt; reversetrie;

public :
	LyricS();
	void insert(string);
	int find(string);
};
LyricS::LyricS()
{
	//와일드 카드가 queries에서 전방, 후방 배치가 가능하므로 정방향, 역방향을 만든다.
	this-&gt;trie = vector&lt;myTrie&gt;(Max_Word_Size);
	this-&gt;reversetrie = vector&lt;myTrie&gt;(Max_Word_Size);
}
void LyricS::insert(string word)
{
	//입력받은 문자열을 길이에 맞는 트라이 구조에 넣는다.
	this-&gt;trie[word.length()].insert(word);
	reverse(word.begin(), word.end());
	this-&gt;reversetrie[word.length()].insert(word);
}
int LyricS::find(string target)
{
	//길이에 맞는 트라이 구조에 들어가 문자열이 매치될 수 있는지 판단한다.

	//와일드 카드가 전방배치되었을 경우
	if (target[0] == &#39;?&#39;)
	{
		reverse(target.begin(), target.end());
		return this-&gt;reversetrie[target.length()].find(target);
	}
	//와일드 카드가 후방배치되었을 경우
	else
	{
		return this-&gt;trie[target.length()].find(target);
	}
}

vector&lt;int&gt; solution(vector&lt;string&gt; words, vector&lt;string&gt; queries)
{
	vector&lt;int&gt; ans(queries.size(), 0);

	LyricS root;

	for (int i = 0; i &lt; words.size(); i++)
	{
		root.insert(words[i]);
	}

	for (int i = 0; i &lt; queries.size(); i++)
	{
		ans[i] = root.find(queries[i]);
	}

	return ans;
}
</code></pre></div>
</div>
</div>

        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            <li class="zerostatic"><a href="https://www.zerostatic.io">www.zerostatic.io</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  

  
  

  
  <script type="text/javascript" src="/js/scripts.min.1237ff71925bb8625c97a9af8db4c54525258bedfd7c47493daaff723bea755e.js"></script>
  

  
  
  
    
  


</body>

</html>
