<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>[2020] 블록 이동하기 - LaMelD&#39;s dev Story</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="https://lameld.github.io/favicon.png">

  
  
  <link rel="stylesheet" href="/css/style.min.6aa5eecd4ca7c47fb2ca9b0775a7bd787e3e64a2eadf0fef8c9f924498f49127.css">
  

  

</head>

<body class='page page-default-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-kakao">
      <a href="/kakao/">
        <span>Kakao</span>
      </a>
    </li>
    
    <li class="menu-item-swea">
      <a href="/swea/">
        <span>Swea</span>
      </a>
    </li>
    
    <li class="menu-item-datastructure">
      <a href="/datastructure/">
        <span>DataStructure</span>
      </a>
    </li>
    
    <li class="menu-item-cloudbasic">
      <a href="/cloudbasic/">
        <span>CloudBasic</span>
      </a>
    </li>
    
    <li class="menu-item-git&amp;github">
      <a href="/gitstudy/">
        <span>Git&amp;Github</span>
      </a>
    </li>
    
    <li class="menu-item-python">
      <a href="/python/">
        <span>Python</span>
      </a>
    </li>
    
    <li class="menu-item-django boardapp">
      <a href="/django_board/">
        <span>Django boardapp</span>
      </a>
    </li>
    
    <li class="menu-item-django todoapp">
      <a href="/django_todo/">
        <span>Django todoapp</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="https://lameld.github.io"><img alt="Logo" src="/images/logo.png" /></a>
    </div>
    <div class="logo-mobile">
      <a href="https://lameld.github.io"><img alt="Logo" src="/images/logo.png" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-kakao">
      <a href="/kakao/">
        <span>Kakao</span>
      </a>
    </li>
    
    <li class="menu-item-swea">
      <a href="/swea/">
        <span>Swea</span>
      </a>
    </li>
    
    <li class="menu-item-datastructure">
      <a href="/datastructure/">
        <span>DataStructure</span>
      </a>
    </li>
    
    <li class="menu-item-cloudbasic">
      <a href="/cloudbasic/">
        <span>CloudBasic</span>
      </a>
    </li>
    
    <li class="menu-item-git&amp;github">
      <a href="/gitstudy/">
        <span>Git&amp;Github</span>
      </a>
    </li>
    
    <li class="menu-item-python">
      <a href="/python/">
        <span>Python</span>
      </a>
    </li>
    
    <li class="menu-item-django boardapp">
      <a href="/django_board/">
        <span>Django boardapp</span>
      </a>
    </li>
    
    <li class="menu-item-django todoapp">
      <a href="/django_todo/">
        <span>Django todoapp</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>


    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <h4>Kakao</h4>
  <ul>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2018_cache/">[2018] 캐시</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2018_dart/">[2018] 다트 게임</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2018_news/">[2018] 뉴스 클러스터링</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2018_friendsblock/">[2018] 프렌즈 4 블록</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2018_secret/">[2018] 비밀지도</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2018_shuttle/">[2018] 셔틀버스</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2018_traffic/">[2018] 추석 트래픽</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2019_block/">[2019] 블록 게임</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2019_fail/">[2019] 실패율</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2019_key/">[2019] 후보키</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2019_matching/">[2019] 매칭 점수</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2019_muzi/">[2019] 무지의 먹방 라이브</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2019_open/">[2019] 오픈채팅방</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2019_way/">[2019] 길 찾기 게임</a>
    </li>
    
    <li class="active ">
      <a href="https://lameld.github.io/kakao/2020_block/">[2020] 블록 이동하기</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2020_circular/">[2020] 외벽 점검</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2020_convert/">[2020] 괄호 변환</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2020_lock/">[2020] 자물쇠와 열쇠</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2020_lyrics/">[2020] 가사 검색</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2020_pole/">[2020] 기둥과 보 설치</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/kakao/2020_zip/">[2020] 문자열 압축</a>
    </li>
    
  </ul>
</div>

          </div>
        </div>
        <div class="col-12 col-md-9">
          
<h1 class="title">[2020] 블록 이동하기</h1>
<div class="content ">
  <p><a href="https://programmers.co.kr/learn/courses/30/lessons/60063">문제 출처</a></p>
<ul>
<li>문제 설명
<ul>
<li>아래의 왼쪽과 같이 board의 정보가 input으로 주어진다.</li>
<li>0과 1로 이루어진 N x N 크기의 지도에서 <code>2 x 1</code> 크기의 로봇을 <code>(1, 1)</code> 에서 <code>(N, N)</code> 까지 이동시킨다.</li>
<li>시작은 아래의 왼쪽과 같이 시작한다.</li>
<li>로봇은 앞뒤 구분없이 움직일 수 있다.</li>
<li>로봇의 회전은 아래의 오른쪽과 같이 실행 할 수 있다.</li>
<li>로봇이 한칸 이동할 때 걸리는 시간은 1초이다.</li>
<li>90도 회전할 때 1초가 소요된다.</li>
</ul>
</li>
</ul>
<p><img src="/images/moveblock1.jpg" alt=""></p>
<ul>
<li>문제 풀이
<ul>
<li>
<p>기본적으로 탐색알고리즘은 다익스트라 알고리즘을 사용한다.</p>
</li>
<li>
<p>Memoization을 하기 위한 배열 visit을 생성한다</p>
</li>
<li>
<p>visit :: node</p>
</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-cpp" data-lang="cpp"><span class="k">struct</span> <span class="nc">node</span>
<span class="p">{</span>
    <span class="n">node</span><span class="p">()</span> <span class="o">:</span> <span class="n">left</span><span class="p">(</span><span class="nb">false</span><span class="p">),</span> <span class="n">right</span><span class="p">(</span><span class="nb">false</span><span class="p">),</span> <span class="n">top</span><span class="p">(</span><span class="nb">false</span><span class="p">),</span> <span class="n">bottom</span><span class="p">(</span><span class="nb">false</span><span class="p">)</span> <span class="p">{}</span>

    <span class="c1">//현재 위치와 왼쪽에 배치되어 있는가
</span><span class="c1"></span>    <span class="kt">bool</span> <span class="n">left</span><span class="p">;</span>
    <span class="c1">//현재 위치와 오른쪽에 배치되어 있는가
</span><span class="c1"></span>    <span class="kt">bool</span> <span class="n">right</span><span class="p">;</span>
    <span class="c1">//현재 위치와 위쪽에 배치되어 있는가
</span><span class="c1"></span>    <span class="kt">bool</span> <span class="n">top</span><span class="p">;</span>
    <span class="c1">//현재 위치와 아래쪽에 배치되어 있는가
</span><span class="c1"></span>    <span class="kt">bool</span> <span class="n">bottom</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">  - visit :: 검색
  ```cpp
  //로봇이 가로로 있을 경우
  if (pos.p1.x == pos.p2.x)
  {
      //로봇의 두 좌표가 visit 여부가 모두 false여야 진행한다.
      if (visit[pos.p1.x][pos.p1.y].left &amp;&amp; visit[pos.p2.x][pos.p2.y].right)
      {
          continue;
      }
      visit[pos.p1.x][pos.p1.y].left = true;
      visit[pos.p2.x][pos.p2.y].right = true;

      state = 0;
  }
  //로봇이 세로로 있을 경우
  else
  {
      //로봇의 두 좌표가 visit 여부가 모두 false여야 진행한다.
      if (visit[pos.p1.x][pos.p1.y].top &amp;&amp; visit[pos.p2.x][pos.p2.y].bottom)
      {
          continue;
      }
      visit[pos.p1.x][pos.p1.y].top = true;
      visit[pos.p2.x][pos.p2.y].bottom = true;

      state = 1;
  }
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">	
  - 좌표를 저장하기 위한 point와 pointset 구조체를 만든다.
  - 시작 좌표를 기준으로 이동가능한 모든 좌표를 queue에 저장하고, 순차적으로 이동시켜 나아가 최적의 값을 구한다.
	
</code></pre></div></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-cpp" data-lang="cpp"><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span><span class="cp">#include</span> <span class="cpf">&lt;queue&gt;</span><span class="cp">
</span><span class="cp"></span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">B</span><span class="p">;</span>

<span class="c1">//for visit &amp; memo
</span><span class="c1"></span><span class="k">struct</span> <span class="nc">node</span>
<span class="p">{</span>
	<span class="n">node</span><span class="p">()</span> <span class="o">:</span> <span class="n">left</span><span class="p">(</span><span class="nb">false</span><span class="p">),</span> <span class="n">right</span><span class="p">(</span><span class="nb">false</span><span class="p">),</span> <span class="n">top</span><span class="p">(</span><span class="nb">false</span><span class="p">),</span> <span class="n">bottom</span><span class="p">(</span><span class="nb">false</span><span class="p">)</span> <span class="p">{}</span>

	<span class="c1">//현재 위치와 왼쪽에 배치되어 있는가
</span><span class="c1"></span>	<span class="kt">bool</span> <span class="n">left</span><span class="p">;</span>
	<span class="c1">//현재 위치와 오른쪽에 배치되어 있는가
</span><span class="c1"></span>	<span class="kt">bool</span> <span class="n">right</span><span class="p">;</span>
	<span class="c1">//현재 위치와 위쪽에 배치되어 있는가
</span><span class="c1"></span>	<span class="kt">bool</span> <span class="n">top</span><span class="p">;</span>
	<span class="c1">//현재 위치와 아래쪽에 배치되어 있는가
</span><span class="c1"></span>	<span class="kt">bool</span> <span class="n">bottom</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="nc">point</span>
<span class="p">{</span>
	<span class="n">point</span><span class="p">()</span> <span class="o">:</span> <span class="n">x</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">y</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">{}</span>
	<span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">y</span><span class="p">;</span>

	<span class="kt">void</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="n">point</span> <span class="n">a</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">this</span><span class="o">-&gt;</span><span class="n">x</span> <span class="o">=</span> <span class="n">a</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
		<span class="k">this</span><span class="o">-&gt;</span><span class="n">y</span> <span class="o">=</span> <span class="n">a</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="kt">bool</span> <span class="k">operator</span><span class="o">==</span><span class="p">(</span><span class="n">point</span> <span class="n">a</span><span class="p">,</span> <span class="n">point</span> <span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">x</span> <span class="o">==</span> <span class="n">b</span><span class="p">.</span><span class="n">x</span> <span class="o">&amp;&amp;</span> <span class="n">a</span><span class="p">.</span><span class="n">y</span> <span class="o">==</span> <span class="n">b</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>
		<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="k">operator</span><span class="o">&lt;</span><span class="p">(</span><span class="n">point</span> <span class="n">a</span><span class="p">,</span> <span class="n">point</span> <span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">x</span> <span class="o">==</span> <span class="n">b</span><span class="p">.</span><span class="n">x</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">a</span><span class="p">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">y</span> <span class="o">==</span> <span class="n">b</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">a</span><span class="p">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="nc">pointset</span>
<span class="p">{</span>
	<span class="n">point</span> <span class="n">p1</span><span class="p">;</span> <span class="c1">//(n, n)과 상대적으로 가까운 것
</span><span class="c1"></span>	<span class="n">point</span> <span class="n">p2</span><span class="p">;</span> <span class="c1">//(n, n)과 상대적으로 먼 것
</span><span class="c1"></span><span class="p">};</span>

<span class="kt">bool</span> <span class="k">operator</span><span class="o">==</span><span class="p">(</span><span class="n">pointset</span> <span class="n">a</span><span class="p">,</span> <span class="n">pointset</span> <span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">p1</span> <span class="o">==</span> <span class="n">b</span><span class="p">.</span><span class="n">p1</span> <span class="o">&amp;&amp;</span> <span class="n">a</span><span class="p">.</span><span class="n">p2</span> <span class="o">==</span> <span class="n">b</span><span class="p">.</span><span class="n">p2</span><span class="p">)</span>
		<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">p1</span> <span class="o">==</span> <span class="n">b</span><span class="p">.</span><span class="n">p2</span> <span class="o">&amp;&amp;</span> <span class="n">a</span><span class="p">.</span><span class="n">p2</span> <span class="o">==</span> <span class="n">b</span><span class="p">.</span><span class="n">p1</span><span class="p">)</span>
		<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>

	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="nc">W</span>
<span class="p">{</span>
	<span class="c1">//최소값을 구하기 위한 값을 지정한다.
</span><span class="c1"></span>	<span class="kt">int</span> <span class="n">movecount</span><span class="p">;</span>
	<span class="n">pointset</span> <span class="n">pos</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">//왼쪽, 오른쪽, 위쪽, 아래쪽 각각 이동이 가능한지 판단
</span><span class="c1"></span><span class="kt">bool</span> <span class="nf">moveleft</span><span class="p">(</span><span class="n">pointset</span> <span class="n">pos</span><span class="p">,</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">bool</span> <span class="nf">moveright</span><span class="p">(</span><span class="n">pointset</span> <span class="n">pos</span><span class="p">,</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">bool</span> <span class="nf">moveup</span><span class="p">(</span><span class="n">pointset</span> <span class="n">pos</span><span class="p">,</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">bool</span> <span class="nf">movedown</span><span class="p">(</span><span class="n">pointset</span> <span class="n">pos</span><span class="p">,</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">//state
</span><span class="c1">//가로로 있을 때 :: 0
</span><span class="c1">//세로로 있을 때 :: 1
</span><span class="c1"></span>
<span class="c1">//rotate p1 forward :: p1을 기준으로 시계방향으로 회전이동한다.
</span><span class="c1">//rotate p2 reverse :: p2를 기준으로 반시계방향으로 회전이동한다.
</span><span class="c1"></span><span class="kt">bool</span> <span class="nf">rotate_p1_forward</span><span class="p">(</span><span class="n">pointset</span> <span class="n">pos</span><span class="p">,</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">state</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="c1">//p1, p2가 스왑되어 들어가야함
</span><span class="c1"></span>		<span class="k">if</span> <span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">bool</span> <span class="nf">rotate_p1_reverse</span><span class="p">(</span><span class="n">pointset</span> <span class="n">pos</span><span class="p">,</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">state</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//p1, p2가 스왑되어 들어가야함
</span><span class="c1"></span>		<span class="k">if</span> <span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">bool</span> <span class="nf">rotate_p2_forward</span><span class="p">(</span><span class="n">pointset</span> <span class="n">pos</span><span class="p">,</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">state</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="c1">//p1, p2가 스왑되어 들어가야함
</span><span class="c1"></span>		<span class="k">if</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">bool</span> <span class="nf">rotate_p2_reverse</span><span class="p">(</span><span class="n">pointset</span> <span class="n">pos</span><span class="p">,</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">state</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//p1, p2가 스왑되어 들어가야함
</span><span class="c1"></span>		<span class="k">if</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">Swap</span><span class="p">(</span><span class="n">point</span><span class="o">&amp;</span> <span class="n">a</span><span class="p">,</span> <span class="n">point</span><span class="o">&amp;</span> <span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">point</span> <span class="n">tmp</span><span class="p">;</span>
	<span class="n">tmp</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
	<span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
	<span class="n">b</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">solution</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">board</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">board</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
	<span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">node</span><span class="o">&gt;&gt;</span> <span class="n">visit</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">node</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">));</span>
	<span class="n">B</span> <span class="o">=</span> <span class="n">board</span><span class="p">;</span>
	
	<span class="c1">//이동을 저장하기 위한 공간
</span><span class="c1"></span>	<span class="n">queue</span><span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">;</span>

	<span class="n">pointset</span> <span class="n">pos</span><span class="p">;</span>
	<span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="n">W</span> <span class="n">pushing</span><span class="p">;</span>
	<span class="n">pushing</span><span class="p">.</span><span class="n">movecount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>

	<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">pushing</span><span class="p">);</span>
	<span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="c1">//다익스트라 알고리즘을 기반
</span><span class="c1"></span>	<span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">q</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span>
	<span class="p">{</span>
		<span class="n">pos</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">().</span><span class="n">pos</span><span class="p">;</span>
		<span class="n">ret</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">().</span><span class="n">movecount</span><span class="p">;</span>
		<span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>

		<span class="c1">//최초에 (n, n)에 도달한 movecount를 리턴한다.
</span><span class="c1"></span>		<span class="k">if</span> <span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span> <span class="o">==</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span> <span class="o">==</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kt">int</span> <span class="n">state</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>

		<span class="c1">//visit의 여부를 확인하여 이동 가능한 모든 구역을 조사
</span><span class="c1"></span>		<span class="c1">//조사 후에 queue에 넣는다
</span><span class="c1"></span>
		<span class="c1">//가로로 있을 경우
</span><span class="c1"></span>		<span class="k">if</span> <span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span> <span class="o">==</span> <span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">visit</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="p">].</span><span class="n">left</span> <span class="o">&amp;&amp;</span> <span class="n">visit</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="p">].</span><span class="n">right</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">continue</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">visit</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="p">].</span><span class="n">left</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
			<span class="n">visit</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="p">].</span><span class="n">right</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

			<span class="n">state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="c1">//세로로 있을 경우
</span><span class="c1"></span>		<span class="k">else</span>
		<span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">visit</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="p">].</span><span class="n">top</span> <span class="o">&amp;&amp;</span> <span class="n">visit</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="p">].</span><span class="n">bottom</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">continue</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">visit</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="p">].</span><span class="n">top</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
			<span class="n">visit</span><span class="p">[</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="p">].</span><span class="n">bottom</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

			<span class="n">state</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="c1">//왼쪽, 오른쪽, 위쪽, 아래쪽 각각 이동이 가능하다면 이동한다.
</span><span class="c1"></span>		<span class="k">if</span> <span class="p">(</span><span class="n">moveleft</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
			<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="o">--</span><span class="p">;</span>
			<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="o">--</span><span class="p">;</span>
			<span class="n">pushing</span><span class="p">.</span><span class="n">movecount</span> <span class="o">=</span> <span class="n">ret</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
			<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">pushing</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">moveright</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
			<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="o">++</span><span class="p">;</span>
			<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="o">++</span><span class="p">;</span>
			<span class="n">pushing</span><span class="p">.</span><span class="n">movecount</span> <span class="o">=</span> <span class="n">ret</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
			<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">pushing</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">moveup</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
			<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="o">--</span><span class="p">;</span>
			<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="o">--</span><span class="p">;</span>
			<span class="n">pushing</span><span class="p">.</span><span class="n">movecount</span> <span class="o">=</span> <span class="n">ret</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
			<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">pushing</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">movedown</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
			<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="o">++</span><span class="p">;</span>
			<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="o">++</span><span class="p">;</span>
			<span class="n">pushing</span><span class="p">.</span><span class="n">movecount</span> <span class="o">=</span> <span class="n">ret</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
			<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">pushing</span><span class="p">);</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span><span class="n">rotate_p1_forward</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">state</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="o">--</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="o">++</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">movecount</span> <span class="o">=</span> <span class="n">ret</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
				<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">pushing</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="k">else</span>
			<span class="p">{</span>
				<span class="c1">//p1, p2가 스왑되어 들어간다.
</span><span class="c1"></span>				<span class="c1">//상대적으로 종료지점과 가까운 point를 p1으로 한다.
</span><span class="c1"></span>				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="o">++</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="o">++</span><span class="p">;</span>
				<span class="n">Swap</span><span class="p">(</span><span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">,</span> <span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">);</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">movecount</span> <span class="o">=</span> <span class="n">ret</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
				<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">pushing</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span><span class="n">rotate_p1_reverse</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">state</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//p1, p2가 스왑되어 들어간다.
</span><span class="c1"></span>				<span class="c1">//상대적으로 종료지점과 가까운 point를 p1으로 한다.
</span><span class="c1"></span>				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="o">++</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="o">++</span><span class="p">;</span>
				<span class="n">Swap</span><span class="p">(</span><span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">,</span> <span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">);</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">movecount</span> <span class="o">=</span> <span class="n">ret</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
				<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">pushing</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="k">else</span>
			<span class="p">{</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="o">++</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="o">--</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">movecount</span> <span class="o">=</span> <span class="n">ret</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
				<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">pushing</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span><span class="n">rotate_p2_forward</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">state</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="o">++</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="o">--</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">movecount</span> <span class="o">=</span> <span class="n">ret</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
				<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">pushing</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="k">else</span>
			<span class="p">{</span>
				<span class="c1">//p1, p2가 스왑되어 들어간다.
</span><span class="c1"></span>				<span class="c1">//상대적으로 종료지점과 가까운 point를 p1으로 한다.
</span><span class="c1"></span>				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="o">--</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="o">--</span><span class="p">;</span>
				<span class="n">Swap</span><span class="p">(</span><span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">,</span> <span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">);</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">movecount</span> <span class="o">=</span> <span class="n">ret</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
				<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">pushing</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span><span class="n">rotate_p2_reverse</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">state</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//p1, p2가 스왑되어 들어간다.
</span><span class="c1"></span>				<span class="c1">//상대적으로 종료지점과 가까운 point를 p1으로 한다.
</span><span class="c1"></span>				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="o">--</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="o">--</span><span class="p">;</span>
				<span class="n">Swap</span><span class="p">(</span><span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">,</span> <span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p2</span><span class="p">);</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">movecount</span> <span class="o">=</span> <span class="n">ret</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
				<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">pushing</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="k">else</span>
			<span class="p">{</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="o">--</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="o">++</span><span class="p">;</span>
				<span class="n">pushing</span><span class="p">.</span><span class="n">movecount</span> <span class="o">=</span> <span class="n">ret</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
				<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">pushing</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="c1">//도달하지 못하였을 경우 0을 리턴한다.
</span><span class="c1"></span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>

        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            <li class="zerostatic"><a href="https://www.zerostatic.io">www.zerostatic.io</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  

  
  

  
  <script type="text/javascript" src="/js/scripts.min.1237ff71925bb8625c97a9af8db4c54525258bedfd7c47493daaff723bea755e.js"></script>
  

  
  
  
    
  


</body>

</html>
