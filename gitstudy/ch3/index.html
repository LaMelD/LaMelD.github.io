<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>3장 : 깃과 브랜치 - LaMelD&#39;s dev Story</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="https://lameld.github.io/favicon.png">

  
  
  <link rel="stylesheet" href="/css/style.min.6aa5eecd4ca7c47fb2ca9b0775a7bd787e3e64a2eadf0fef8c9f924498f49127.css">
  

  

</head>

<body class='page page-default-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-kakao">
      <a href="/kakao/">
        <span>Kakao</span>
      </a>
    </li>
    
    <li class="menu-item-swea">
      <a href="/swea/">
        <span>Swea</span>
      </a>
    </li>
    
    <li class="menu-item-datastructure">
      <a href="/datastructure/">
        <span>DataStructure</span>
      </a>
    </li>
    
    <li class="menu-item-cloudbasic">
      <a href="/cloudbasic/">
        <span>CloudBasic</span>
      </a>
    </li>
    
    <li class="menu-item-git&amp;github">
      <a href="/gitstudy/">
        <span>Git&amp;Github</span>
      </a>
    </li>
    
    <li class="menu-item-python">
      <a href="/python/">
        <span>Python</span>
      </a>
    </li>
    
    <li class="menu-item-django boardapp">
      <a href="/django_board/">
        <span>Django boardapp</span>
      </a>
    </li>
    
    <li class="menu-item-django todoapp">
      <a href="/django_todo/">
        <span>Django todoapp</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="https://lameld.github.io"><img alt="Logo" src="/images/logo.png" /></a>
    </div>
    <div class="logo-mobile">
      <a href="https://lameld.github.io"><img alt="Logo" src="/images/logo.png" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-kakao">
      <a href="/kakao/">
        <span>Kakao</span>
      </a>
    </li>
    
    <li class="menu-item-swea">
      <a href="/swea/">
        <span>Swea</span>
      </a>
    </li>
    
    <li class="menu-item-datastructure">
      <a href="/datastructure/">
        <span>DataStructure</span>
      </a>
    </li>
    
    <li class="menu-item-cloudbasic">
      <a href="/cloudbasic/">
        <span>CloudBasic</span>
      </a>
    </li>
    
    <li class="menu-item-git&amp;github">
      <a href="/gitstudy/">
        <span>Git&amp;Github</span>
      </a>
    </li>
    
    <li class="menu-item-python">
      <a href="/python/">
        <span>Python</span>
      </a>
    </li>
    
    <li class="menu-item-django boardapp">
      <a href="/django_board/">
        <span>Django boardapp</span>
      </a>
    </li>
    
    <li class="menu-item-django todoapp">
      <a href="/django_todo/">
        <span>Django todoapp</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>


    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <h4>Gitstudy</h4>
  <ul>
    
    <li class="">
      <a href="https://lameld.github.io/gitstudy/ch1/">1장 : 깃 시작하기</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/gitstudy/ch2/">2장 : 깃으로 버전 관리하기</a>
    </li>
    
    <li class="active ">
      <a href="https://lameld.github.io/gitstudy/ch3/">3장 : 깃과 브랜치</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/gitstudy/ch4/">4장 : 깃허브로 백업하기</a>
    </li>
    
    <li class="">
      <a href="https://lameld.github.io/gitstudy/ch5/">5장 : 깃허브로 협업하기</a>
    </li>
    
  </ul>
</div>

          </div>
        </div>
        <div class="col-12 col-md-9">
          
<h1 class="title">3장 : 깃과 브랜치</h1>
<div class="content ">
  <h3 id="1-브랜치branch">1. 브랜치(branch)</h3>
<ul>
<li>
<p>분기점</p>
<p><img src="/images/branch.PNG" alt="이미지"></p>
<ul>
<li>master에서 commit한다.</li>
<li>현 상태에서 Feature-1 브랜치를 만들어 새로운 내용을 추가하여 commit한다.</li>
<li>master에서 새로운 내용을 넣어 commit한다.</li>
<li>현 상태에서 Feature-2 브랜치를 만들어 새로운 내용을 추가하여 commit 한다.</li>
<li>Feature-1과 master를 merge(병합)한다.</li>
<li>Feature-2와 master를 merge(병합)한다.</li>
</ul>
</li>
</ul>
<h3 id="2-브랜치-만들기">2. 브랜치 만들기</h3>
<ul>
<li>실습 환경 설정하기
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ mkdir branchtest
$ cd branchtest
$ git init
$ vim work.txt
$ git add work.txt
$ git commit -m &#34;work 1&#34;
</code></pre></div><ul>
<li>새로운 저장소를 만든다.</li>
<li>새로운 파일을 만들고 commit까지 실시한다.</li>
</ul>
</li>
<li>새 브랜치 만들기
<ul>
<li>브랜치 확인 :: <code>git branch</code></li>
<li>브랜치 생성 :: <code>git branch [브랜치 이름]</code></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ git branch
$ git branch apple
$ git branch ms
$ git branch google
</code></pre></div></li>
<li>브랜치 이동하기 :: <code>git checkout [브랜치 이름]</code>
<ul>
<li>master에서 work.txt를 수정하고 커밋한다.</li>
<li><code>git log --oneline</code>으로 로그를 보면 master와 다른 브랜치의 상태가 다른 것을 확인 할 수 있다.</li>
<li>apple 브랜치로 이동하여 <code>git log --oneline</code>으로 로그를 보면 HEAD가 apple를 가리키고 있는 것을 볼 수 있다.</li>
<li>work.txt를 cat으로 확인해보면 master에서 수정한 내용이 반영되지 않았음을 확인할 수 있다.</li>
</ul>
</li>
</ul>
<h3 id="3-브랜치-정보-확인하기">3. 브랜치 정보 확인하기</h3>
<ul>
<li>apple에서 work.txt를 수정하고 커밋한다.</li>
<li><code>git log --oneline --branches --graph</code>를 한다면 분기되었음을 그래프로 확인할 수 있다.</li>
<li><code>git log master..apple</code> : master 브랜치를 기준으로 apple과 비교하여 차이점을 알 수 있다.</li>
<li><code>git log apple..master</code> : apple 브랜치를 기준으로 master와 비교하여 차이점을 알 수 있다.</li>
</ul>
<h3 id="4-브랜치-병합하기">4. 브랜치 병합하기</h3>
<ul>
<li>서로 다른 파일 병합
<ul>
<li>새로운 저장소를 만든다.</li>
<li>work.txt 파일을 만들어 &lsquo;1'을 입력하고 저장</li>
<li>add 해주고 commit을 실행하는데 메시지를 &ldquo;work 1&quot;으로 한다.</li>
<li>b1 브랜치를 생성해준다.</li>
<li>master 브랜치에서 master.txt 파일을 만들어 &lsquo;master 2'를 입력하고 저장</li>
<li>&ldquo;master work 2&quot;라는 메시지와 함께 커밋</li>
<li>b1 브랜치로 이동하여 b1.txt 파일을 만들어 &lsquo;b1 2'를 입력하고 저장</li>
<li>&ldquo;b1 work 2&quot;라는 메시지와 함께 커밋</li>
<li><code>git log --oneline --branches --graph</code>로 현재 상태를 확인한다.</li>
<li>master 브랜치로 이동하여 <code>git merge b1</code>을 입력하여 병합한다. :: master 브랜치를 b1과 병합한 결과를 master 브랜치에 적용한다.</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ mkdir man1
$ cd man1
$ git init
$ vim work.txt
$ git add work.txt
$ git commit -m &#34;work 1&#34;
$ git branch b1
$ vim master.txt
$ git add master.txt
$ git commit -m &#34;master work 2&#34;
$ git checkout b1
$ vim b1.txt
$ git add b1.txt
$ git commit -m &#34;b1 work 2&#34;
$ git log --oneline --branches --graph
$ git checkout master
$ git merge b1
$ ls -al
</code></pre></div></li>
<li>같은 파일 다른 위치 수정후 병합
<ul>
<li>새로운 저장소를 만든다.</li>
<li>work.txt 파일을 만들어 아래와 같이 입력하고 저장
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">#title
content
      

#title
content
</code></pre></div></li>
<li>add 해주고 commit을 실행하는데 메시지를 &ldquo;work 1&quot;으로 한다.</li>
<li>b1 브랜치를 생성해준다.</li>
<li>master 브랜치에서 work.txt 파일을 아래와 같이 수정하여 &ldquo;master work 2&rdquo; 메시지로 커밋한다.
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">#title
master content 2
      

#title
content
</code></pre></div></li>
<li>b1 브랜치로 이동하여 work.txt 파일을 아래와 같이 수정하여 &ldquo;b1 work 2&rdquo; 메시지로 커밋한다.
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">#title
content
      

#title
b1 content 2
</code></pre></div></li>
<li>master 브랜치로 이동하여 merge를 실시한 뒤 work.txt를 cat으로 확인하면 자연스럽게 합쳐진 모습을 볼 수 있다.</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ git init man2
$ cd man2
$ vim work.txt
$ git add work.txt
$ git commit -m &#34;work 1&#34;
$ git branch b1
$ vim work.txt
$ git commit -am &#34;master work 2&#34;
$ git checkout b1
$ vim work.txt
$ git commit -am &#34;b1 work 2&#34;
$ git checkout master
$ git merge b1
$ cat work.txt
</code></pre></div></li>
<li>같은 파일 같은 위치 수정후 병합
<ul>
<li><em><strong>깃에서는 줄 단위로 변경여부를 확인한다.</strong></em></li>
<li><em><strong>같은 줄을 수정했을 때 브랜치를 병합하면 브랜치 충돌이 발생</strong></em></li>
<li>새로운 저장소를 만든다.</li>
<li>work.txt 파일을 만들어 아래와 같이 입력하고 저장
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">#title
content

#title
content
</code></pre></div></li>
<li>add 해주고 commit을 실행하는데 메시지를 &ldquo;work 1&quot;으로 한다.</li>
<li>b1 브랜치를 생성해준다.</li>
<li>master 브랜치에서 work.txt 파일을 아래와 같이 수정하여 &ldquo;master work 2&rdquo; 메시지로 커밋한다.
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">#title
content
master content 2
#title
content
</code></pre></div></li>
<li>b1 브랜치로 이동하여 work.txt 파일을 아래와 같이 수정하여 &ldquo;b1 work 2&rdquo; 메시지로 커밋한다.
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">#title
content
b1 content 2
#title
content
</code></pre></div></li>
<li>master 브랜치로 이동하여 merge를 실시하면 CONFLICT 메시지가 출려된다.</li>
<li>편집기로 work.txt를 열어서 필요없는 내용 <code>&lt;&lt;&lt;&lt;HEAD</code>, <code>&gt;&gt;&gt;&gt;b1</code>, <code>=====</code>을 삭제한 뒤 저장하고 편집기를 종료한다.</li>
<li>수정한 work.txt를 스테이지에 올리고 커밋하면 충돌을 해결하고 커밋한 것이다.</li>
<li><code>git log --oneline --branches --graph</code>로 지금까지 만든 브랜치와 커밋의 관계를 한눈에 확인할 수 있다.</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ git init man2
$ cd man2
$ vim work.txt
$ git add work.txt
$ git commit -m &#34;work 1&#34;
$ git branch b1
$ vim work.txt
$ git commit -am &#34;master work 2&#34;
$ git checkout b1
$ vim work.txt
$ git commit -am &#34;b1 work 2&#34;
$ git checkout master
$ git merge b1
$ vim work.txt
$ git commit -am &#34;merge b1 branch&#34;
$ git log --oneline --branches --graph
</code></pre></div></li>
<li>브랜치를 병합할 때 편집기
<ul>
<li>편집기 열리게 하기 : <code>git merge b1 --edit</code></li>
<li>편집기 열리지 않게 하기 : <code>git merge b1 --no-edit</code></li>
</ul>
</li>
<li>병합 및 충돌 해결 프로그램</li>
</ul>
<table>
<thead>
<tr>
<th align="left">프로그램</th>
<th align="left">설명</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">P4Merge</td>
<td align="left">무료이고 직관적이며 사용이 편리하고 병합 기능이 뛰어남. 단축키가 지원되지 않는 단점이 있다.</td>
</tr>
<tr>
<td align="left">Meld</td>
<td align="left">무료이며 오픈소스. 파일을 비교하는 것뿐만 아니라 직접 편집할 수 있다.</td>
</tr>
<tr>
<td align="left">Kdiff3</td>
<td align="left">무료이고 사용이 편리하고 병합 기능이 뛰어나지만 한글이 깨져보일 수 있다.</td>
</tr>
<tr>
<td align="left">Araxis Merge</td>
<td align="left">유료지만 용량이 큰 파일에서도 잘 동작함</td>
</tr>
</tbody>
</table>
<ul>
<li>병합이 끝난 브랜치 삭제
<ul>
<li><code>git branch</code>로 남은 브랜치 확인</li>
<li>저장소의 기본 브랜치는 master 브랜치이므로 master 브랜치로 이동하여 브랜치를 삭제하는 것이 안전하다.</li>
<li>b1 브랜치의 삭제
<ul>
<li><code>git branch -d b1</code></li>
<li><code>git branch --delete b1</code></li>
<li><code>git branch -D b1</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="5-브랜치-관리하기">5. 브랜치 관리하기</h3>
<ul>
<li>커밋 해시를 통해서 브랜치들을 관리하고 커밋 해시(버전)으로 rollback 할 수 있다.</li>
<li>수정 중인 파일 감추기 및 되돌리기 :: <code>git stash</code>
<ul>
<li>아직 커밋하지 않고 작업 중인 파일들을 잠시 감춰둘 수 있다.</li>
<li>stash 명령을 사용하기 위해선 파일이 tracked 상태여야 한다.(한 번은 커밋한 상태여야 한다)</li>
<li>새로운 저장소를 만들고 f1.txt, f2.txt를 생성하고 커밋한다.</li>
<li>f1.txt와 f2.txt를 수정하고 저장만 한 뒤 <code>git status</code>로 상태를 확인한다.</li>
<li>각각의 파일이 modified 상태인 것을 확인 할 수있다.</li>
<li><code>git stash</code>를 실시하고 다시 <code>git status</code>를 해보면 modified 메시지가 사라진 것을 확인 할 수 있다.</li>
<li>같은 방법으로 여러 파일을 수정한 후 따로 보관할 수 있다.</li>
<li>stash가 보관되는 공간은 stack으로 이루어져 LIFO이 적용된다.
<ul>
<li>가장 최근에 보관한 stash는 stash@{0}에 담기게 된다.</li>
</ul>
</li>
<li>감추어둔 파일을 꺼내와 계속 수정하거나 커밋할 수 있다.</li>
<li>이때 가장 최근 항목을 되돌리기 위해서 <code>git stash pop</code>을 사용한다.</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ git init st
$ cd st
$ vim f1.txt
$ vim f2.txt
$ git add .
$ git commit -m &#34;add f1, f2&#34;
$ vim f1.txt
$ vim f2.txt
$ git stash
$ git stash pop
</code></pre></div></li>
<li>stash 관련 명령어
<ul>
<li><code>git stash</code> : stash 스택에 modified 상태의 작업물을 담는다.</li>
<li><code>git stash pop</code> : 가장 최근의 항목을 되돌리고 stash 스택에서 제거한다.</li>
<li><code>git stash list</code> : stash 스택의 목록을 확인한다.</li>
<li><code>git stash apply</code> : 가장 최근의 항목을 되돌리고 stash 스택에 남겨둔다.</li>
<li><code>git stash drop</code> : 가장 최근의 항목을 삭제한다.</li>
</ul>
</li>
</ul>

</div>
</div>

        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            <li class="zerostatic"><a href="https://www.zerostatic.io">www.zerostatic.io</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  

  
  

  
  <script type="text/javascript" src="/js/scripts.min.1237ff71925bb8625c97a9af8db4c54525258bedfd7c47493daaff723bea755e.js"></script>
  

  
  
  
    
  


</body>

</html>
